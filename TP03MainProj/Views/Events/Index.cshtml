﻿@model IEnumerable<TP03MainProj.Models.Events>

@{
    ViewBag.Title = "Events Calendar";

}




<section>
    <div class="container-fluid bg-white">
        <div class="row justify-content-center text-center section-row m-4">
            <div class="col-12 col-md-8 col-lg-6">
                @{
                    var cultureColour = "";
                    switch (ViewBag.Culture as string)
                    {
                        case "Japanese":
                            cultureColour = "text-warning";
                            break;
                        case "Chinese":
                            cultureColour = "text-danger";
                            break;
                        case "Korean":
                            cultureColour = "text-primary";
                            break;
                        case "Filipino":
                            cultureColour = "text-info";
                            break;
                        case "Vietnamese":
                            cultureColour = "text-success";
                            break;
                        default:
                            cultureColour = "black"; // Default colour
                            break;
                    }
                }
                <div class="display-3 fw-bold">Explore <span class="@cultureColour">@ViewBag.Culture</span> Events!</div>
                <div id="culture" data-culture="@ViewBag.Culture" style="display: none;"></div>
            </div>
        </div>
        <div class="row justify-content-center m-auto bg-light border-2 p-2 mt-2 mb-3 border-bottom" id="button-section">
            <div class="col-12 col-sm-6 col-md-4 text-center mb-1">
                <a class="btn culture-btn btn-primary text-nowrap mb-2 mb-md-3 mb-lg-4" href="">Events</a>
            </div>
            <div class="col-12 col-sm-6 col-md-4 text-center mb-1">
                <a class="btn culture-btn btn-primary fs-6 mb-2 mb-md-3 mb-lg-4" href="">Quiz</a>
            </div>
            <div class="col-12 col-sm-6 col-md-4 text-center mb-1">
                <a class="btn culture-btn btn-primary fs-6 mb-2 mb-md-3 mb-lg-4" href="">Attraction</a>
            </div>
        </div>

        <div class="row justify-content-center section-row mt-5">
            <div class="col-12 col-md-6">
                <div id="calendar" class="mx-auto w-75 h-auto"></div>
            </div>
            <div class="col-12 col-md-6">
                <div class="row text-center w-75 h-auto">
                    <h6 style="background-color:powderblue;"><i>Click around the Calendar to find Events for the Festivals above...</i></h6>
                </div>
                <div class="row">
                    <div id="events-list"></div>
                </div>
            </div>
        </div>
        <div class="row justify-content-center section-row bg-warning pt-5 mt-5 mb-5" id="quiz-section">
            <div class="col-lg-8 col-md-10 text-center">
                <div class="row mb-3">
                    <div class="display-2 fw-bold" style="word-spacing: 8px;">Common Phrases and Cultural Etiquette Quiz</div>
                </div>
                <div class="row justify-content-center pb-5 pt-5">
                    <h4 id="startMessage" class="pb-5">"Want to learn about this culture in depth? Try this quiz!"</h4>
                    <button id="loadQuiz" class="btn btn-primary w-25 text-white culture-btn">Learn About @ViewBag.Culture</button>
                </div>
                <div id="quizFrame" class="text-white" style="display:none;"></div>
            </div>
        </div>
        <div class="bg-white row"></div>
    </div>
</section>



@section Scripts {
    <!-- Global Variables for passing data to custom calender script -->
    <script>
        var getCulturalDatesUrl = '@Url.Action("GetCulturalDates", "Events")';
        var getEventsFromEventbriteUrl = '@Url.Action("GetEventsFromEventbrite", "Events")';
    </script>
    @Scripts.Render("~/bundles/fullcalendar")
    <script src="~/Scripts/quizLoader.js"></script>

    <!-- Modified the width of the calender to see if it fits -->

    <style>

        #quizFrame {
            height: 1000px;
        }

        .culture-btn {
            min-height: 40px;
            height: 40px;
        }
        .event-detail {
            margin-bottom: 20px;
            padding: 10px;
            border: 3px solid @cultureColour;
            border-radius: 5px;
        }

            .event-detail h3 {
                margin-top: 0;
            }

        .fc-day:hover {
            background-color: #eee;
            cursor: pointer;
        }

        .highlighted {
            background-color: #ff0;
            border: 2px solid #f00;
        }
    </style>
}